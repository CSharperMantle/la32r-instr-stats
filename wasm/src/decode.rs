use bitmatch::bitmatch;
use strum::EnumCount;
use strum::EnumIter;
use strum::IntoStaticStr;

#[derive(Clone, Copy, PartialEq, Eq, IntoStaticStr, EnumCount, EnumIter)]
#[repr(u8)]
pub enum InstructionCategory {
  /// Basic integer arithmetic instructions.
  Arith,
  /// Basic integer bit-shift instructions.
  Shift,
  /// Basic integer bit-manipulation instructions.
  BitManip,
  /// Basic integer branch instructions.
  Branch,
  /// Basic integer common memory access instructions.
  Memory,
  /// Basic integer bound check memory access instructions.
  BoundCheckMemory,
  /// Basic integer atomic memory access instructions.
  AtomicMemory,
  /// Basic integer barrier instructions.
  Barrier,
  /// Basic integer CRC check instructions.
  Crc,
  /// Basic integer miscellaneous instructions.
  Other,
  /// Floating-point arithmetic instructions.
  FloatArith,
  /// Floating-point comparison instructions.
  FloatCmp,
  /// Floating-point conversion instructions.
  FloatConv,
  /// Floating-point move instructions.
  FloatMove,
  /// Floating-point branch instructions.
  FloatBranch,
  /// Floating-point common memory access instructions.
  FloatMemory,
  /// Floating-point bound check memory access instructions.
  FloatBoundCheckMemory,
  /// Privileged CSR access instructions.
  PrivCsr,
  /// Privileged IOCSR access instructions.
  PrivIocsr,
  /// Privileged cache maintenance instructions.
  PrivCache,
  /// Privileged TLB maintenance instructions.
  PrivTlb,
  /// Privileged software page walking instructions.
  PrivPageWalk,
  /// Privileged miscellaneous instructions.
  PrivOther,
  /// Unknown instructions.
  Unknown,
}

#[derive(Clone, Copy)]
pub struct InstructionInfo {
  pub mnemonic: &'static str,
  pub category: InstructionCategory,
}

impl InstructionInfo {
  pub const fn new(mnemonic: &'static str, category: InstructionCategory) -> Self {
    Self { mnemonic, category }
  }
}

#[rustfmt::skip]
#[bitmatch]
pub fn decode_instruction(instr: u32) -> Result<InstructionInfo, ()> {
  #[bitmatch]
  match instr {
    "0000000000000000000100??????????" => Ok(InstructionInfo::new("CLO.W", InstructionCategory::BitManip)),
    "0000000000000000000101??????????" => Ok(InstructionInfo::new("CLZ.W", InstructionCategory::BitManip)),
    "0000000000000000000110??????????" => Ok(InstructionInfo::new("CTO.W", InstructionCategory::BitManip)),
    "0000000000000000000111??????????" => Ok(InstructionInfo::new("CTZ.W", InstructionCategory::BitManip)),
    "0000000000000000001000??????????" => Ok(InstructionInfo::new("CLO.D", InstructionCategory::BitManip)),
    "0000000000000000001001??????????" => Ok(InstructionInfo::new("CLZ.D", InstructionCategory::BitManip)),
    "0000000000000000001010??????????" => Ok(InstructionInfo::new("CTO.D", InstructionCategory::BitManip)),
    "0000000000000000001011??????????" => Ok(InstructionInfo::new("CTZ.D", InstructionCategory::BitManip)),
    "0000000000000000001100??????????" => Ok(InstructionInfo::new("REVB.2H", InstructionCategory::BitManip)),
    "0000000000000000001101??????????" => Ok(InstructionInfo::new("REVB.4H", InstructionCategory::BitManip)),
    "0000000000000000001110??????????" => Ok(InstructionInfo::new("REVB.2W", InstructionCategory::BitManip)),
    "0000000000000000001111??????????" => Ok(InstructionInfo::new("REVB.D", InstructionCategory::BitManip)),
    "0000000000000000010000??????????" => Ok(InstructionInfo::new("REVH.2W", InstructionCategory::BitManip)),
    "0000000000000000010001??????????" => Ok(InstructionInfo::new("REVH.D", InstructionCategory::BitManip)),
    "0000000000000000010010??????????" => Ok(InstructionInfo::new("BITREV.4B", InstructionCategory::BitManip)),
    "0000000000000000010011??????????" => Ok(InstructionInfo::new("BITREV.8B", InstructionCategory::BitManip)),
    "0000000000000000010100??????????" => Ok(InstructionInfo::new("BITREV.W", InstructionCategory::BitManip)),
    "0000000000000000010101??????????" => Ok(InstructionInfo::new("BITREV.D", InstructionCategory::BitManip)),
    "0000000000000000010110??????????" => Ok(InstructionInfo::new("EXT.W.H", InstructionCategory::BitManip)),
    "0000000000000000010111??????????" => Ok(InstructionInfo::new("EXT.W.B", InstructionCategory::BitManip)),
    "0000000000000000011000??????????" => Ok(InstructionInfo::new("RDTIMEL.W", InstructionCategory::Other)),
    "0000000000000000011001??????????" => Ok(InstructionInfo::new("RDTIMEH.W", InstructionCategory::Other)),
    "0000000000000000011010??????????" => Ok(InstructionInfo::new("RDTIME.D", InstructionCategory::Other)),
    "0000000000000000011011??????????" => Ok(InstructionInfo::new("CPUCFG", InstructionCategory::Other)),
    "00000000000000010??????????00000" => Ok(InstructionInfo::new("ASRTLE.D", InstructionCategory::Other)),
    "00000000000000011??????????00000" => Ok(InstructionInfo::new("ASRTGT.D", InstructionCategory::Other)),
    "000000000000010?????????????????" => Ok(InstructionInfo::new("ALSL.W", InstructionCategory::Arith)),
    "000000000000011?????????????????" => Ok(InstructionInfo::new("ALSL.WU", InstructionCategory::Arith)),
    "000000000000100?????????????????" => Ok(InstructionInfo::new("BYTEPICK.W", InstructionCategory::BitManip)),
    "00000000000011??????????????????" => Ok(InstructionInfo::new("BYTEPICK.D", InstructionCategory::BitManip)),
    "00000000000100000???????????????" => Ok(InstructionInfo::new("ADD.W", InstructionCategory::Arith)),
    "00000000000100001???????????????" => Ok(InstructionInfo::new("ADD.D", InstructionCategory::Arith)),
    "00000000000100010???????????????" => Ok(InstructionInfo::new("SUB.W", InstructionCategory::Arith)),
    "00000000000100011???????????????" => Ok(InstructionInfo::new("SUB.D", InstructionCategory::Arith)),
    "00000000000100100???????????????" => Ok(InstructionInfo::new("SLT", InstructionCategory::Arith)),
    "00000000000100101???????????????" => Ok(InstructionInfo::new("SLTU", InstructionCategory::Arith)),
    "00000000000100110???????????????" => Ok(InstructionInfo::new("MASKEQZ", InstructionCategory::BitManip)),
    "00000000000100111???????????????" => Ok(InstructionInfo::new("MASKNEZ", InstructionCategory::BitManip)),
    "00000000000101000???????????????" => Ok(InstructionInfo::new("NOR", InstructionCategory::Arith)),
    "00000000000101001???????????????" => Ok(InstructionInfo::new("AND", InstructionCategory::Arith)),
    "00000000000101010???????????????" => Ok(InstructionInfo::new("OR", InstructionCategory::Arith)),
    "00000000000101011???????????????" => Ok(InstructionInfo::new("XOR", InstructionCategory::Arith)),
    "00000000000101100???????????????" => Ok(InstructionInfo::new("ORN", InstructionCategory::Arith)),
    "00000000000101101???????????????" => Ok(InstructionInfo::new("ANDN", InstructionCategory::Arith)),
    "00000000000101110???????????????" => Ok(InstructionInfo::new("SLL.W", InstructionCategory::Shift)),
    "00000000000101111???????????????" => Ok(InstructionInfo::new("SRL.W", InstructionCategory::Shift)),
    "00000000000110000???????????????" => Ok(InstructionInfo::new("SRA.W", InstructionCategory::Shift)),
    "00000000000110001???????????????" => Ok(InstructionInfo::new("SLL.D", InstructionCategory::Shift)),
    "00000000000110010???????????????" => Ok(InstructionInfo::new("SRL.D", InstructionCategory::Shift)),
    "00000000000110011???????????????" => Ok(InstructionInfo::new("SRA.D", InstructionCategory::Shift)),
    "00000000000110110???????????????" => Ok(InstructionInfo::new("ROTR.W", InstructionCategory::Shift)),
    "00000000000110111???????????????" => Ok(InstructionInfo::new("ROTR.D", InstructionCategory::Shift)),
    "00000000000111000???????????????" => Ok(InstructionInfo::new("MUL.W", InstructionCategory::Arith)),
    "00000000000111001???????????????" => Ok(InstructionInfo::new("MULH.W", InstructionCategory::Arith)),
    "00000000000111010???????????????" => Ok(InstructionInfo::new("MULH.WU", InstructionCategory::Arith)),
    "00000000000111011???????????????" => Ok(InstructionInfo::new("MUL.D", InstructionCategory::Arith)),
    "00000000000111100???????????????" => Ok(InstructionInfo::new("MULH.D", InstructionCategory::Arith)),
    "00000000000111101???????????????" => Ok(InstructionInfo::new("MULH.DU", InstructionCategory::Arith)),
    "00000000000111110???????????????" => Ok(InstructionInfo::new("MULW.D.W", InstructionCategory::Arith)),
    "00000000000111111???????????????" => Ok(InstructionInfo::new("MULW.D.WU", InstructionCategory::Arith)),
    "00000000001000000???????????????" => Ok(InstructionInfo::new("DIV.W", InstructionCategory::Arith)),
    "00000000001000001???????????????" => Ok(InstructionInfo::new("MOD.W", InstructionCategory::Arith)),
    "00000000001000010???????????????" => Ok(InstructionInfo::new("DIV.WU", InstructionCategory::Arith)),
    "00000000001000011???????????????" => Ok(InstructionInfo::new("MOD.WU", InstructionCategory::Arith)),
    "00000000001000100???????????????" => Ok(InstructionInfo::new("DIV.D", InstructionCategory::Arith)),
    "00000000001000101???????????????" => Ok(InstructionInfo::new("MOD.D", InstructionCategory::Arith)),
    "00000000001000110???????????????" => Ok(InstructionInfo::new("DIV.DU", InstructionCategory::Arith)),
    "00000000001000111???????????????" => Ok(InstructionInfo::new("MOD.DU", InstructionCategory::Arith)),
    "00000000001001000???????????????" => Ok(InstructionInfo::new("CRC.W.B.W", InstructionCategory::Crc)),
    "00000000001001001???????????????" => Ok(InstructionInfo::new("CRC.W.H.W", InstructionCategory::Crc)),
    "00000000001001010???????????????" => Ok(InstructionInfo::new("CRC.W.W.W", InstructionCategory::Crc)),
    "00000000001001011???????????????" => Ok(InstructionInfo::new("CRC.W.D.W", InstructionCategory::Crc)),
    "00000000001001100???????????????" => Ok(InstructionInfo::new("CRCC.W.B.W", InstructionCategory::Crc)),
    "00000000001001101???????????????" => Ok(InstructionInfo::new("CRCC.W.H.W", InstructionCategory::Crc)),
    "00000000001001110???????????????" => Ok(InstructionInfo::new("CRCC.W.W.W", InstructionCategory::Crc)),
    "00000000001001111???????????????" => Ok(InstructionInfo::new("CRCC.W.D.W", InstructionCategory::Crc)),
    "00000000001010100???????????????" => Ok(InstructionInfo::new("BREAK", InstructionCategory::Other)),
    "00000000001010101???????????????" => Ok(InstructionInfo::new("DBCL", InstructionCategory::PrivOther)),
    "00000000001010110???????????????" => Ok(InstructionInfo::new("SYSCALL", InstructionCategory::Other)),
    "000000000010110?????????????????" => Ok(InstructionInfo::new("ALSL.D", InstructionCategory::Arith)),
    "00000000010000001???????????????" => Ok(InstructionInfo::new("SLLI.W", InstructionCategory::Shift)),
    "0000000001000001????????????????" => Ok(InstructionInfo::new("SLLI.D", InstructionCategory::Shift)),
    "00000000010001001???????????????" => Ok(InstructionInfo::new("SRLI.W", InstructionCategory::Shift)),
    "0000000001000101????????????????" => Ok(InstructionInfo::new("SRLI.D", InstructionCategory::Shift)),
    "00000000010010001???????????????" => Ok(InstructionInfo::new("SRAI.W", InstructionCategory::Shift)),
    "0000000001001001????????????????" => Ok(InstructionInfo::new("SRAI.D", InstructionCategory::Shift)),
    "00000000010011001???????????????" => Ok(InstructionInfo::new("ROTRI.W", InstructionCategory::Shift)),
    "0000000001001101????????????????" => Ok(InstructionInfo::new("ROTRI.D", InstructionCategory::Shift)),
    "00000000011?????0???????????????" => Ok(InstructionInfo::new("BSTRINS.W", InstructionCategory::BitManip)),
    "00000000011?????1???????????????" => Ok(InstructionInfo::new("BSTRPICK.W", InstructionCategory::BitManip)),
    "0000000010??????????????????????" => Ok(InstructionInfo::new("BSTRINS.D", InstructionCategory::BitManip)),
    "0000000011??????????????????????" => Ok(InstructionInfo::new("BSTRPICK.D", InstructionCategory::BitManip)),
    "00000001000000001???????????????" => Ok(InstructionInfo::new("FADD.S", InstructionCategory::FloatArith)),
    "00000001000000010???????????????" => Ok(InstructionInfo::new("FADD.D", InstructionCategory::FloatArith)),
    "00000001000000101???????????????" => Ok(InstructionInfo::new("FSUB.S", InstructionCategory::FloatArith)),
    "00000001000000110???????????????" => Ok(InstructionInfo::new("FSUB.D", InstructionCategory::FloatArith)),
    "00000001000001001???????????????" => Ok(InstructionInfo::new("FMUL.S", InstructionCategory::FloatArith)),
    "00000001000001010???????????????" => Ok(InstructionInfo::new("FMUL.D", InstructionCategory::FloatArith)),
    "00000001000001101???????????????" => Ok(InstructionInfo::new("FDIV.S", InstructionCategory::FloatArith)),
    "00000001000001110???????????????" => Ok(InstructionInfo::new("FDIV.D", InstructionCategory::FloatArith)),
    "00000001000010001???????????????" => Ok(InstructionInfo::new("FMAX.S", InstructionCategory::FloatArith)),
    "00000001000010010???????????????" => Ok(InstructionInfo::new("FMAX.D", InstructionCategory::FloatArith)),
    "00000001000010101???????????????" => Ok(InstructionInfo::new("FMIN.S", InstructionCategory::FloatArith)),
    "00000001000010110???????????????" => Ok(InstructionInfo::new("FMIN.D", InstructionCategory::FloatArith)),
    "00000001000011001???????????????" => Ok(InstructionInfo::new("FMAXA.S", InstructionCategory::FloatArith)),
    "00000001000011010???????????????" => Ok(InstructionInfo::new("FMAXA.D", InstructionCategory::FloatArith)),
    "00000001000011101???????????????" => Ok(InstructionInfo::new("FMINA.S", InstructionCategory::FloatArith)),
    "00000001000011110???????????????" => Ok(InstructionInfo::new("FMINA.D", InstructionCategory::FloatArith)),
    "00000001000100001???????????????" => Ok(InstructionInfo::new("FSCALEB.S", InstructionCategory::FloatArith)),
    "00000001000100010???????????????" => Ok(InstructionInfo::new("FSCALEB.D", InstructionCategory::FloatArith)),
    "00000001000100101???????????????" => Ok(InstructionInfo::new("FCOPYSIGN.S", InstructionCategory::FloatArith)),
    "00000001000100110???????????????" => Ok(InstructionInfo::new("FCOPYSIGN.D", InstructionCategory::FloatArith)),
    "0000000100010100000001??????????" => Ok(InstructionInfo::new("FABS.S", InstructionCategory::FloatArith)),
    "0000000100010100000010??????????" => Ok(InstructionInfo::new("FABS.D", InstructionCategory::FloatArith)),
    "0000000100010100000101??????????" => Ok(InstructionInfo::new("FNEG.S", InstructionCategory::FloatArith)),
    "0000000100010100000110??????????" => Ok(InstructionInfo::new("FNEG.D", InstructionCategory::FloatArith)),
    "0000000100010100001001??????????" => Ok(InstructionInfo::new("FLOGB.S", InstructionCategory::FloatArith)),
    "0000000100010100001010??????????" => Ok(InstructionInfo::new("FLOGB.D", InstructionCategory::FloatArith)),
    "0000000100010100001101??????????" => Ok(InstructionInfo::new("FCLASS.S", InstructionCategory::FloatArith)),
    "0000000100010100001110??????????" => Ok(InstructionInfo::new("FCLASS.D", InstructionCategory::FloatArith)),
    "0000000100010100010001??????????" => Ok(InstructionInfo::new("FSQRT.S", InstructionCategory::FloatArith)),
    "0000000100010100010010??????????" => Ok(InstructionInfo::new("FSQRT.D", InstructionCategory::FloatArith)),
    "0000000100010100010101??????????" => Ok(InstructionInfo::new("FRECIP.S", InstructionCategory::FloatArith)),
    "0000000100010100010110??????????" => Ok(InstructionInfo::new("FRECIP.D", InstructionCategory::FloatArith)),
    "0000000100010100011001??????????" => Ok(InstructionInfo::new("FRSQRT.S", InstructionCategory::FloatArith)),
    "0000000100010100011010??????????" => Ok(InstructionInfo::new("FRSQRT.D", InstructionCategory::FloatArith)),
    "0000000100010100011101??????????" => Ok(InstructionInfo::new("FRECIPE.S", InstructionCategory::FloatArith)),
    "0000000100010100011110??????????" => Ok(InstructionInfo::new("FRECIPE.D", InstructionCategory::FloatArith)),
    "0000000100010100100001??????????" => Ok(InstructionInfo::new("FRSQRTE.S", InstructionCategory::FloatArith)),
    "0000000100010100100010??????????" => Ok(InstructionInfo::new("FRSQRTE.D", InstructionCategory::FloatArith)),
    "0000000100010100100101??????????" => Ok(InstructionInfo::new("FMOV.S", InstructionCategory::FloatMove)),
    "0000000100010100100110??????????" => Ok(InstructionInfo::new("FMOV.D", InstructionCategory::FloatMove)),
    "0000000100010100101001??????????" => Ok(InstructionInfo::new("MOVGR2FR.W", InstructionCategory::FloatMove)),
    "0000000100010100101010??????????" => Ok(InstructionInfo::new("MOVGR2FR.D", InstructionCategory::FloatMove)),
    "0000000100010100101011??????????" => Ok(InstructionInfo::new("MOVGR2FRH.W", InstructionCategory::FloatMove)),
    "0000000100010100101101??????????" => Ok(InstructionInfo::new("MOVFR2GR.S", InstructionCategory::FloatMove)),
    "0000000100010100101110??????????" => Ok(InstructionInfo::new("MOVFR2GR.D", InstructionCategory::FloatMove)),
    "0000000100010100101111??????????" => Ok(InstructionInfo::new("MOVFRH2GR.S", InstructionCategory::FloatMove)),
    "0000000100010100110000??????????" => Ok(InstructionInfo::new("MOVGR2FCSR", InstructionCategory::FloatMove)),
    "0000000100010100110010??????????" => Ok(InstructionInfo::new("MOVFCSR2GR", InstructionCategory::FloatMove)),
    "0000000100010100110100?????00???" => Ok(InstructionInfo::new("MOVFR2CF", InstructionCategory::FloatMove)),
    "000000010001010011010100????????" => Ok(InstructionInfo::new("MOVCF2FR", InstructionCategory::FloatMove)),
    "0000000100010100110110?????00???" => Ok(InstructionInfo::new("MOVGR2CF", InstructionCategory::FloatMove)),
    "000000010001010011011100????????" => Ok(InstructionInfo::new("MOVCF2GR", InstructionCategory::FloatMove)),
    "0000000100011001000110??????????" => Ok(InstructionInfo::new("FCVT.S.D", InstructionCategory::FloatConv)),
    "0000000100011001001001??????????" => Ok(InstructionInfo::new("FCVT.D.S", InstructionCategory::FloatConv)),
    "0000000100011010000001??????????" => Ok(InstructionInfo::new("FTINTRM.W.S", InstructionCategory::FloatMove)),
    "0000000100011010000010??????????" => Ok(InstructionInfo::new("FTINTRM.W.D", InstructionCategory::FloatMove)),
    "0000000100011010001001??????????" => Ok(InstructionInfo::new("FTINTRM.L.S", InstructionCategory::FloatMove)),
    "0000000100011010001010??????????" => Ok(InstructionInfo::new("FTINTRM.L.D", InstructionCategory::FloatMove)),
    "0000000100011010010001??????????" => Ok(InstructionInfo::new("FTINTRP.W.S", InstructionCategory::FloatMove)),
    "0000000100011010010010??????????" => Ok(InstructionInfo::new("FTINTRP.W.D", InstructionCategory::FloatMove)),
    "0000000100011010011001??????????" => Ok(InstructionInfo::new("FTINTRP.L.S", InstructionCategory::FloatMove)),
    "0000000100011010011010??????????" => Ok(InstructionInfo::new("FTINTRP.L.D", InstructionCategory::FloatMove)),
    "0000000100011010100001??????????" => Ok(InstructionInfo::new("FTINTRZ.W.S", InstructionCategory::FloatMove)),
    "0000000100011010100010??????????" => Ok(InstructionInfo::new("FTINTRZ.W.D", InstructionCategory::FloatMove)),
    "0000000100011010101001??????????" => Ok(InstructionInfo::new("FTINTRZ.L.S", InstructionCategory::FloatMove)),
    "0000000100011010101010??????????" => Ok(InstructionInfo::new("FTINTRZ.L.D", InstructionCategory::FloatMove)),
    "0000000100011010110001??????????" => Ok(InstructionInfo::new("FTINTRNE.W.S", InstructionCategory::FloatMove)),
    "0000000100011010110010??????????" => Ok(InstructionInfo::new("FTINTRNE.W.D", InstructionCategory::FloatMove)),
    "0000000100011010111001??????????" => Ok(InstructionInfo::new("FTINTRNE.L.S", InstructionCategory::FloatMove)),
    "0000000100011010111010??????????" => Ok(InstructionInfo::new("FTINTRNE.L.D", InstructionCategory::FloatMove)),
    "0000000100011011000001??????????" => Ok(InstructionInfo::new("FTINT.W.S", InstructionCategory::FloatMove)),
    "0000000100011011000010??????????" => Ok(InstructionInfo::new("FTINT.W.D", InstructionCategory::FloatMove)),
    "0000000100011011001001??????????" => Ok(InstructionInfo::new("FTINT.L.S", InstructionCategory::FloatMove)),
    "0000000100011011001010??????????" => Ok(InstructionInfo::new("FTINT.L.D", InstructionCategory::FloatMove)),
    "0000000100011101000100??????????" => Ok(InstructionInfo::new("FFINT.S.W", InstructionCategory::FloatMove)),
    "0000000100011101000110??????????" => Ok(InstructionInfo::new("FFINT.S.L", InstructionCategory::FloatMove)),
    "0000000100011101001000??????????" => Ok(InstructionInfo::new("FFINT.D.W", InstructionCategory::FloatMove)),
    "0000000100011101001010??????????" => Ok(InstructionInfo::new("FFINT.D.L", InstructionCategory::FloatMove)),
    "0000000100011110010001??????????" => Ok(InstructionInfo::new("FRINT.S", InstructionCategory::FloatMove)),
    "0000000100011110010010??????????" => Ok(InstructionInfo::new("FRINT.D", InstructionCategory::FloatMove)),
    "0000001000??????????????????????" => Ok(InstructionInfo::new("SLTI", InstructionCategory::Arith)),
    "0000001001??????????????????????" => Ok(InstructionInfo::new("SLTUI", InstructionCategory::Arith)),
    "0000001010??????????????????????" => Ok(InstructionInfo::new("ADDI.W", InstructionCategory::Arith)),
    "0000001011??????????????????????" => Ok(InstructionInfo::new("ADDI.D", InstructionCategory::Arith)),
    "0000001100??????????????????????" => Ok(InstructionInfo::new("LU52I.D", InstructionCategory::Arith)),
    "0000001101??????????????????????" => Ok(InstructionInfo::new("ANDI", InstructionCategory::Arith)),
    "0000001110??????????????????????" => Ok(InstructionInfo::new("ORI", InstructionCategory::Arith)),
    "0000001111??????????????????????" => Ok(InstructionInfo::new("XORI", InstructionCategory::Arith)),
    "00000100??????????????00000?????" => Ok(InstructionInfo::new("CSRRD", InstructionCategory::PrivCsr)),
    "00000100??????????????00001?????" => Ok(InstructionInfo::new("CSRWR", InstructionCategory::PrivCsr)),
    "00000100????????????????????????" => Ok(InstructionInfo::new("CSRXCHG", InstructionCategory::PrivCsr)),
    "0000011000??????????????????????" => Ok(InstructionInfo::new("CACOP", InstructionCategory::PrivCache)),
    "00000110010000??????????????????" => Ok(InstructionInfo::new("LDDIR", InstructionCategory::PrivPageWalk)),
    "00000110010001?????????????00000" => Ok(InstructionInfo::new("LDPTE", InstructionCategory::PrivPageWalk)),
    "0000011001001000000000??????????" => Ok(InstructionInfo::new("IOCSRRD.B", InstructionCategory::PrivIocsr)),
    "0000011001001000000001??????????" => Ok(InstructionInfo::new("IOCSRRD.H", InstructionCategory::PrivIocsr)),
    "0000011001001000000010??????????" => Ok(InstructionInfo::new("IOCSRRD.W", InstructionCategory::PrivIocsr)),
    "0000011001001000000011??????????" => Ok(InstructionInfo::new("IOCSRRD.D", InstructionCategory::PrivIocsr)),
    "0000011001001000000100??????????" => Ok(InstructionInfo::new("IOCSRWR.B", InstructionCategory::PrivIocsr)),
    "0000011001001000000101??????????" => Ok(InstructionInfo::new("IOCSRWR.H", InstructionCategory::PrivIocsr)),
    "0000011001001000000110??????????" => Ok(InstructionInfo::new("IOCSRWR.W", InstructionCategory::PrivIocsr)),
    "0000011001001000000111??????????" => Ok(InstructionInfo::new("IOCSRWR.D", InstructionCategory::PrivIocsr)),
    "00000110010010000010000000000000" => Ok(InstructionInfo::new("TLBCLR", InstructionCategory::PrivTlb)),
    "00000110010010000010010000000000" => Ok(InstructionInfo::new("TLBFLUSH", InstructionCategory::PrivTlb)),
    "00000110010010000010100000000000" => Ok(InstructionInfo::new("TLBSRCH", InstructionCategory::PrivTlb)),
    "00000110010010000010110000000000" => Ok(InstructionInfo::new("TLBRD", InstructionCategory::PrivTlb)),
    "00000110010010000011000000000000" => Ok(InstructionInfo::new("TLBWR", InstructionCategory::PrivTlb)),
    "00000110010010000011010000000000" => Ok(InstructionInfo::new("TLBFILL", InstructionCategory::PrivTlb)),
    "00000110010010000011100000000000" => Ok(InstructionInfo::new("ERTN", InstructionCategory::PrivOther)),
    "00000110010010001???????????????" => Ok(InstructionInfo::new("IDLE", InstructionCategory::PrivOther)),
    "00000110010010011???????????????" => Ok(InstructionInfo::new("INVTLB", InstructionCategory::PrivTlb)),
    "000010000001????????????????????" => Ok(InstructionInfo::new("FMADD.S", InstructionCategory::FloatArith)),
    "000010000010????????????????????" => Ok(InstructionInfo::new("FMADD.D", InstructionCategory::FloatArith)),
    "000010000101????????????????????" => Ok(InstructionInfo::new("FMSUB.S", InstructionCategory::FloatArith)),
    "000010000110????????????????????" => Ok(InstructionInfo::new("FMSUB.D", InstructionCategory::FloatArith)),
    "000010001001????????????????????" => Ok(InstructionInfo::new("FNMADD.S", InstructionCategory::FloatArith)),
    "000010001010????????????????????" => Ok(InstructionInfo::new("FNMADD.D", InstructionCategory::FloatArith)),
    "000010001101????????????????????" => Ok(InstructionInfo::new("FNMSUB.S", InstructionCategory::FloatArith)),
    "000010001110????????????????????" => Ok(InstructionInfo::new("FNMSUB.D", InstructionCategory::FloatArith)),
    "000011000001???????????????00???" => Ok(InstructionInfo::new("FCMP.cond.S", InstructionCategory::FloatCmp)),
    "000011000010???????????????00???" => Ok(InstructionInfo::new("FCMP.cond.D", InstructionCategory::FloatCmp)),
    "00001101000000??????????????????" => Ok(InstructionInfo::new("FSEL", InstructionCategory::FloatMove)),
    "000100??????????????????????????" => Ok(InstructionInfo::new("ADDU16I.D", InstructionCategory::Arith)),
    "0001010?????????????????????????" => Ok(InstructionInfo::new("LU12I.W", InstructionCategory::Arith)),
    "0001011?????????????????????????" => Ok(InstructionInfo::new("LU32I.D", InstructionCategory::Arith)),
    "0001100?????????????????????????" => Ok(InstructionInfo::new("PCADDI", InstructionCategory::Arith)),
    "0001101?????????????????????????" => Ok(InstructionInfo::new("PCALAU12I", InstructionCategory::Arith)),
    "0001110?????????????????????????" => Ok(InstructionInfo::new("PCADDU12I", InstructionCategory::Arith)),
    "0001111?????????????????????????" => Ok(InstructionInfo::new("PCADDU18I", InstructionCategory::Arith)),
    "00100000????????????????????????" => Ok(InstructionInfo::new("LL.W", InstructionCategory::Memory)),
    "00100001????????????????????????" => Ok(InstructionInfo::new("SC.W", InstructionCategory::Memory)),
    "00100010????????????????????????" => Ok(InstructionInfo::new("LL.D", InstructionCategory::Memory)),
    "00100011????????????????????????" => Ok(InstructionInfo::new("SC.D", InstructionCategory::Memory)),
    "00100100????????????????????????" => Ok(InstructionInfo::new("LDPTR.W", InstructionCategory::Memory)),
    "00100101????????????????????????" => Ok(InstructionInfo::new("STPTR.W", InstructionCategory::Memory)),
    "00100110????????????????????????" => Ok(InstructionInfo::new("LDPTR.D", InstructionCategory::Memory)),
    "00100111????????????????????????" => Ok(InstructionInfo::new("STPTR.D", InstructionCategory::Memory)),
    "0010100000??????????????????????" => Ok(InstructionInfo::new("LD.B", InstructionCategory::Memory)),
    "0010100001??????????????????????" => Ok(InstructionInfo::new("LD.H", InstructionCategory::Memory)),
    "0010100010??????????????????????" => Ok(InstructionInfo::new("LD.W", InstructionCategory::Memory)),
    "0010100011??????????????????????" => Ok(InstructionInfo::new("LD.D", InstructionCategory::Memory)),
    "0010100100??????????????????????" => Ok(InstructionInfo::new("ST.B", InstructionCategory::Memory)),
    "0010100101??????????????????????" => Ok(InstructionInfo::new("ST.H", InstructionCategory::Memory)),
    "0010100110??????????????????????" => Ok(InstructionInfo::new("ST.W", InstructionCategory::Memory)),
    "0010100111??????????????????????" => Ok(InstructionInfo::new("ST.D", InstructionCategory::Memory)),
    "0010101000??????????????????????" => Ok(InstructionInfo::new("LD.BU", InstructionCategory::Memory)),
    "0010101001??????????????????????" => Ok(InstructionInfo::new("LD.HU", InstructionCategory::Memory)),
    "0010101010??????????????????????" => Ok(InstructionInfo::new("LD.WU", InstructionCategory::Memory)),
    "0010101011??????????????????????" => Ok(InstructionInfo::new("PRELD", InstructionCategory::Memory)),
    "0010101100??????????????????????" => Ok(InstructionInfo::new("FLD.S", InstructionCategory::FloatMemory)),
    "0010101101??????????????????????" => Ok(InstructionInfo::new("FST.S", InstructionCategory::FloatMemory)),
    "0010101110??????????????????????" => Ok(InstructionInfo::new("FLD.D", InstructionCategory::FloatMemory)),
    "0010101111??????????????????????" => Ok(InstructionInfo::new("FST.D", InstructionCategory::FloatMemory)),
    "00111000000000000???????????????" => Ok(InstructionInfo::new("LDX.B", InstructionCategory::Memory)),
    "00111000000001000???????????????" => Ok(InstructionInfo::new("LDX.H", InstructionCategory::Memory)),
    "00111000000010000???????????????" => Ok(InstructionInfo::new("LDX.W", InstructionCategory::Memory)),
    "00111000000011000???????????????" => Ok(InstructionInfo::new("LDX.D", InstructionCategory::Memory)),
    "00111000000100000???????????????" => Ok(InstructionInfo::new("STX.B", InstructionCategory::Memory)),
    "00111000000101000???????????????" => Ok(InstructionInfo::new("STX.H", InstructionCategory::Memory)),
    "00111000000110000???????????????" => Ok(InstructionInfo::new("STX.W", InstructionCategory::Memory)),
    "00111000000111000???????????????" => Ok(InstructionInfo::new("STX.D", InstructionCategory::Memory)),
    "00111000001000000???????????????" => Ok(InstructionInfo::new("LDX.BU", InstructionCategory::Memory)),
    "00111000001001000???????????????" => Ok(InstructionInfo::new("LDX.HU", InstructionCategory::Memory)),
    "00111000001010000???????????????" => Ok(InstructionInfo::new("LDX.WU", InstructionCategory::Memory)),
    "00111000001011000???????????????" => Ok(InstructionInfo::new("PRELDX", InstructionCategory::Memory)),
    "00111000001100000???????????????" => Ok(InstructionInfo::new("FLDX.S", InstructionCategory::FloatMemory)),
    "00111000001101000???????????????" => Ok(InstructionInfo::new("FLDX.D", InstructionCategory::FloatMemory)),
    "00111000001110000???????????????" => Ok(InstructionInfo::new("FSTX.S", InstructionCategory::FloatMemory)),
    "00111000001111000???????????????" => Ok(InstructionInfo::new("FSTX.D", InstructionCategory::FloatMemory)),
    "00111000010101110???????????????" => Ok(InstructionInfo::new("SC.Q", InstructionCategory::AtomicMemory)),
    "0011100001010111100000??????????" => Ok(InstructionInfo::new("LLACQ.W", InstructionCategory::AtomicMemory)),
    "0011100001010111100001??????????" => Ok(InstructionInfo::new("SCREL.W", InstructionCategory::AtomicMemory)),
    "0011100001010111100010??????????" => Ok(InstructionInfo::new("LLACQ.D", InstructionCategory::AtomicMemory)),
    "0011100001010111100011??????????" => Ok(InstructionInfo::new("SCREL.D", InstructionCategory::AtomicMemory)),
    "00111000010110000???????????????" => Ok(InstructionInfo::new("AMCAS.B", InstructionCategory::AtomicMemory)),
    "00111000010110001???????????????" => Ok(InstructionInfo::new("AMCAS.H", InstructionCategory::AtomicMemory)),
    "00111000010110010???????????????" => Ok(InstructionInfo::new("AMCAS.W", InstructionCategory::AtomicMemory)),
    "00111000010110011???????????????" => Ok(InstructionInfo::new("AMCAS.D", InstructionCategory::AtomicMemory)),
    "00111000010110100???????????????" => Ok(InstructionInfo::new("AMCAS_DB.B", InstructionCategory::AtomicMemory)),
    "00111000010110101???????????????" => Ok(InstructionInfo::new("AMCAS_DB.H", InstructionCategory::AtomicMemory)),
    "00111000010110110???????????????" => Ok(InstructionInfo::new("AMCAS_DB.W", InstructionCategory::AtomicMemory)),
    "00111000010110111???????????????" => Ok(InstructionInfo::new("AMCAS_DB.D", InstructionCategory::AtomicMemory)),
    "00111000010111000???????????????" => Ok(InstructionInfo::new("AMSWAP.B", InstructionCategory::AtomicMemory)),
    "00111000010111001???????????????" => Ok(InstructionInfo::new("AMSWAP.H", InstructionCategory::AtomicMemory)),
    "00111000010111010???????????????" => Ok(InstructionInfo::new("AMADD.B", InstructionCategory::AtomicMemory)),
    "00111000010111011???????????????" => Ok(InstructionInfo::new("AMADD.H", InstructionCategory::AtomicMemory)),
    "00111000010111100???????????????" => Ok(InstructionInfo::new("AMSWAP_DB.B", InstructionCategory::AtomicMemory)),
    "00111000010111101???????????????" => Ok(InstructionInfo::new("AMSWAP_DB.H", InstructionCategory::AtomicMemory)),
    "00111000010111110???????????????" => Ok(InstructionInfo::new("AMADD_DB.B", InstructionCategory::AtomicMemory)),
    "00111000010111111???????????????" => Ok(InstructionInfo::new("AMADD_DB.H", InstructionCategory::AtomicMemory)),
    "00111000011000000???????????????" => Ok(InstructionInfo::new("AMSWAP.W", InstructionCategory::AtomicMemory)),
    "00111000011000001???????????????" => Ok(InstructionInfo::new("AMSWAP.D", InstructionCategory::AtomicMemory)),
    "00111000011000010???????????????" => Ok(InstructionInfo::new("AMADD.W", InstructionCategory::AtomicMemory)),
    "00111000011000011???????????????" => Ok(InstructionInfo::new("AMADD.D", InstructionCategory::AtomicMemory)),
    "00111000011000100???????????????" => Ok(InstructionInfo::new("AMAND.W", InstructionCategory::AtomicMemory)),
    "00111000011000101???????????????" => Ok(InstructionInfo::new("AMAND.D", InstructionCategory::AtomicMemory)),
    "00111000011000110???????????????" => Ok(InstructionInfo::new("AMOR.W", InstructionCategory::AtomicMemory)),
    "00111000011000111???????????????" => Ok(InstructionInfo::new("AMOR.D", InstructionCategory::AtomicMemory)),
    "00111000011001000???????????????" => Ok(InstructionInfo::new("AMXOR.W", InstructionCategory::AtomicMemory)),
    "00111000011001001???????????????" => Ok(InstructionInfo::new("AMXOR.D", InstructionCategory::AtomicMemory)),
    "00111000011001010???????????????" => Ok(InstructionInfo::new("AMMAX.W", InstructionCategory::AtomicMemory)),
    "00111000011001011???????????????" => Ok(InstructionInfo::new("AMMAX.D", InstructionCategory::AtomicMemory)),
    "00111000011001100???????????????" => Ok(InstructionInfo::new("AMMIN.W", InstructionCategory::AtomicMemory)),
    "00111000011001101???????????????" => Ok(InstructionInfo::new("AMMIN.D", InstructionCategory::AtomicMemory)),
    "00111000011001110???????????????" => Ok(InstructionInfo::new("AMMAX.WU", InstructionCategory::AtomicMemory)),
    "00111000011001111???????????????" => Ok(InstructionInfo::new("AMMAX.DU", InstructionCategory::AtomicMemory)),
    "00111000011010000???????????????" => Ok(InstructionInfo::new("AMMIN.WU", InstructionCategory::AtomicMemory)),
    "00111000011010001???????????????" => Ok(InstructionInfo::new("AMMIN.DU", InstructionCategory::AtomicMemory)),
    "00111000011010010???????????????" => Ok(InstructionInfo::new("AMSWAP_DB.W", InstructionCategory::AtomicMemory)),
    "00111000011010011???????????????" => Ok(InstructionInfo::new("AMSWAP_DB.D", InstructionCategory::AtomicMemory)),
    "00111000011010100???????????????" => Ok(InstructionInfo::new("AMADD_DB.W", InstructionCategory::AtomicMemory)),
    "00111000011010101???????????????" => Ok(InstructionInfo::new("AMADD_DB.D", InstructionCategory::AtomicMemory)),
    "00111000011010110???????????????" => Ok(InstructionInfo::new("AMAND_DB.W", InstructionCategory::AtomicMemory)),
    "00111000011010111???????????????" => Ok(InstructionInfo::new("AMAND_DB.D", InstructionCategory::AtomicMemory)),
    "00111000011011000???????????????" => Ok(InstructionInfo::new("AMOR_DB.W", InstructionCategory::AtomicMemory)),
    "00111000011011001???????????????" => Ok(InstructionInfo::new("AMOR_DB.D", InstructionCategory::AtomicMemory)),
    "00111000011011010???????????????" => Ok(InstructionInfo::new("AMXOR_DB.W", InstructionCategory::AtomicMemory)),
    "00111000011011011???????????????" => Ok(InstructionInfo::new("AMXOR_DB.D", InstructionCategory::AtomicMemory)),
    "00111000011011100???????????????" => Ok(InstructionInfo::new("AMMAX_DB.W", InstructionCategory::AtomicMemory)),
    "00111000011011101???????????????" => Ok(InstructionInfo::new("AMMAX_DB.D", InstructionCategory::AtomicMemory)),
    "00111000011011110???????????????" => Ok(InstructionInfo::new("AMMIN_DB.W", InstructionCategory::AtomicMemory)),
    "00111000011011111???????????????" => Ok(InstructionInfo::new("AMMIN_DB.D", InstructionCategory::AtomicMemory)),
    "00111000011100000???????????????" => Ok(InstructionInfo::new("AMMAX_DB.WU", InstructionCategory::AtomicMemory)),
    "00111000011100001???????????????" => Ok(InstructionInfo::new("AMMAX_DB.DU", InstructionCategory::AtomicMemory)),
    "00111000011100010???????????????" => Ok(InstructionInfo::new("AMMIN_DB.WU", InstructionCategory::AtomicMemory)),
    "00111000011100011???????????????" => Ok(InstructionInfo::new("AMMIN_DB.DU", InstructionCategory::AtomicMemory)),
    "00111000011100100???????????????" => Ok(InstructionInfo::new("DBAR", InstructionCategory::Barrier)),
    "00111000011100101???????????????" => Ok(InstructionInfo::new("IBAR", InstructionCategory::Barrier)),
    "00111000011101000???????????????" => Ok(InstructionInfo::new("FLDGT.S", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011101001???????????????" => Ok(InstructionInfo::new("FLDGT.D", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011101010???????????????" => Ok(InstructionInfo::new("FLDLE.S", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011101011???????????????" => Ok(InstructionInfo::new("FLDLE.D", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011101100???????????????" => Ok(InstructionInfo::new("FSTGT.S", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011101101???????????????" => Ok(InstructionInfo::new("FSTGT.D", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011101110???????????????" => Ok(InstructionInfo::new("FSTLE.S", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011101111???????????????" => Ok(InstructionInfo::new("FSTLE.D", InstructionCategory::FloatBoundCheckMemory)),
    "00111000011110000???????????????" => Ok(InstructionInfo::new("LDGT.B", InstructionCategory::BoundCheckMemory)),
    "00111000011110001???????????????" => Ok(InstructionInfo::new("LDGT.H", InstructionCategory::BoundCheckMemory)),
    "00111000011110010???????????????" => Ok(InstructionInfo::new("LDGT.W", InstructionCategory::BoundCheckMemory)),
    "00111000011110011???????????????" => Ok(InstructionInfo::new("LDGT.D", InstructionCategory::BoundCheckMemory)),
    "00111000011110100???????????????" => Ok(InstructionInfo::new("LDLE.B", InstructionCategory::BoundCheckMemory)),
    "00111000011110101???????????????" => Ok(InstructionInfo::new("LDLE.H", InstructionCategory::BoundCheckMemory)),
    "00111000011110110???????????????" => Ok(InstructionInfo::new("LDLE.W", InstructionCategory::BoundCheckMemory)),
    "00111000011110111???????????????" => Ok(InstructionInfo::new("LDLE.D", InstructionCategory::BoundCheckMemory)),
    "00111000011111000???????????????" => Ok(InstructionInfo::new("STGT.B", InstructionCategory::BoundCheckMemory)),
    "00111000011111001???????????????" => Ok(InstructionInfo::new("STGT.H", InstructionCategory::BoundCheckMemory)),
    "00111000011111010???????????????" => Ok(InstructionInfo::new("STGT.W", InstructionCategory::BoundCheckMemory)),
    "00111000011111011???????????????" => Ok(InstructionInfo::new("STGT.D", InstructionCategory::BoundCheckMemory)),
    "00111000011111100???????????????" => Ok(InstructionInfo::new("STLE.B", InstructionCategory::BoundCheckMemory)),
    "00111000011111101???????????????" => Ok(InstructionInfo::new("STLE.H", InstructionCategory::BoundCheckMemory)),
    "00111000011111110???????????????" => Ok(InstructionInfo::new("STLE.W", InstructionCategory::BoundCheckMemory)),
    "00111000011111111???????????????" => Ok(InstructionInfo::new("STLE.D", InstructionCategory::BoundCheckMemory)),
    "010000??????????????????????????" => Ok(InstructionInfo::new("BEQZ", InstructionCategory::Branch)),
    "010001??????????????????????????" => Ok(InstructionInfo::new("BNEZ", InstructionCategory::Branch)),
    "010010????????????????00????????" => Ok(InstructionInfo::new("BCEQZ", InstructionCategory::Branch)),
    "010010????????????????01????????" => Ok(InstructionInfo::new("BCNEZ", InstructionCategory::Branch)),
    "010011??????????????????????????" => Ok(InstructionInfo::new("JIRL", InstructionCategory::Branch)),
    "010100??????????????????????????" => Ok(InstructionInfo::new("B", InstructionCategory::Branch)),
    "010101??????????????????????????" => Ok(InstructionInfo::new("BL", InstructionCategory::Branch)),
    "010110??????????????????????????" => Ok(InstructionInfo::new("BEQ", InstructionCategory::Branch)),
    "010111??????????????????????????" => Ok(InstructionInfo::new("BNE", InstructionCategory::Branch)),
    "011000??????????????????????????" => Ok(InstructionInfo::new("BLT", InstructionCategory::Branch)),
    "011001??????????????????????????" => Ok(InstructionInfo::new("BGE", InstructionCategory::Branch)),
    "011010??????????????????????????" => Ok(InstructionInfo::new("BLTU", InstructionCategory::Branch)),
    "011011??????????????????????????" => Ok(InstructionInfo::new("BGEU", InstructionCategory::Branch)),
    _ => Err(()),
  }
}
